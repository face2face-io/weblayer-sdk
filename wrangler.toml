name = "weblayer-sdk"
main = "worker.js"
compatibility_date = "2024-01-01"

# Using KV storage (included with Workers, no setup needed)
[[kv_namespaces]]
binding = "SDK_KV"
id = "fb73e2912ff44a4bb210fd822b0e132b"

# Alternative: Use R2 (requires enabling R2 in Cloudflare Dashboard first)
# [[r2_buckets]]
# binding = "SDK_BUCKET"
# bucket_name = "weblayer-sdk"

# Routes configuration (set up in Cloudflare Dashboard after deployment)
# Pattern: sdk.weblayer.ai/*
routes = [
  { pattern = "sdk.weblayer.ai/*", zone_name = "weblayer.ai" }
]

# Environment variables (optional - only if you want to override default API URL)
# Set these in Cloudflare Dashboard → Workers → Settings → Environment Variables
# Or use: wrangler secret put API_URL
# [vars]
# API_URL = "https://api.weblayer.ai"  # Optional: defaults to https://api.weblayer.ai

[observability]
[observability.logs]
enabled = false
head_sampling_rate = 1
invocation_logs = true
persist = true
